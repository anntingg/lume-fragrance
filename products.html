<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lume Fragrance | 商品總覽 Products</title>
    <link rel="stylesheet" href="./css/style-ann.css">
</head>

<body>
    <div id="root"></div>

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./js/script.js"></script>

    <!-- React -->
    <script type="text/babel">

        // JSON 建立陣列資料
        const requestURL = "./products.json";
        let request = new XMLHttpRequest();
        request.open("GET", requestURL);
        request.responseType = "json";
        request.send();

        request.onload = function () {
            // 將 JSON 資料內容丟給 products 變數
            const products = request.response;
            // console.log(products);

            const App = () => {

                // 資料解構：被解構的名稱，必須是 props 內的名稱 => return 內就不用寫 props.
                // const { imgName, titleCn, titleEn } = props;

                // Section 標題
                const ProductTitle = ({ type, pageName }) => {
                    return (
                        <header className="product-title">
                            <a href={`./${pageName}.html`}>
                                <h1 className="serif-medium-l">{type}</h1>
                            </a>
                        </header>
                    )
                }

                // 每個商品項目
                const ProductCard = ({ type, titleCn, titleEn, imgName }) => {
                    return (
                        <a className="product-card" href="#">
                            <img src={`./images/${imgName}`} alt={`${titleCn}${type}`} />
                            <h3 className="ch-sans-thin-xl">{titleCn}</h3>
                            <p className="ch-sans-light-s">{titleEn}</p>
                        </a>
                    )
                }

                // 用迴圈跑商品列表
                const ProductBox = ({ showType, showSeries }) => {
                    return (
                        <div className="product-box">
                            {
                                products.map((products) => {
                                    if (products.type == showType && products.series == showSeries) {
                                        return <ProductCard key={products.id} type={products.type} titleCn={products.titleCn} titleEn={products.titleEn} imgName={products.imgName} />
                                    }
                                })
                            }
                        </div>
                    )
                }

                return (
                    <>
                        <header></header>
                        <main>
                            <div className="cover">
                                <div className="banner-box-p">
                                    <img className="banner-bg-p" src="./images/banner-products-1.jpg" alt="香氛蠟燭" />
                                    <img className="banner-logo-p" src="./images/LOGO-07.png" alt="Lume Fragrance" />
                                    <img className="banner-gradient" src="./images/gradient.png" alt="漸層" />
                                </div>
                                <div id="products" className="title-p">
                                    <h2 className="en-sans-light-l">Products</h2>
                                    <h1 className="serif-medium-l">商品總覽</h1>
                                </div>
                            </div>

                            <div className="container products">
                                <div className="anchor-p ch-sans-light-m">
                                    <a href="#products"><span></span>商品總覽<br />Products</a>
                                    <a href="#perfume"><span></span>香水<br />Perfume</a>
                                    <a href="#travel-spray"><span></span>針管香水<br />Travel Spray</a>
                                    <a href="#diffuse"><span></span>室內擴香<br />Diffuse</a>
                                    <a href="#candle"><span></span>香氛蠟燭<br />Candle</a>
                                    <a href="#lip-gloss"><span></span>唇油<br />Lip Gloss</a>
                                    <a href="#facial-mask"><span></span>面膜<br />Facial Mask</a>
                                </div>

                                <div className="all-products">
                                    <section id="perfume">
                                        <ProductTitle type="香水" pageName="perfume" />

                                        <h2 className="serif-medium-m">自然系列</h2>
                                        <ProductBox showType="香水" showSeries="自然系列" />

                                        <h2 className="serif-medium-m">費洛蒙系列</h2>
                                        <ProductBox showType="香水" showSeries="費洛蒙系列" />
                                    </section>

                                    <section id="travel-spray">
                                        <ProductTitle type="針管香水" pageName="travel-spray" />
                                        <ProductBox showType="針管香水" showSeries="" />
                                    </section>

                                    <section id="diffuse">
                                        <ProductTitle type="室內擴香" pageName="travel-spray" />
                                        <ProductBox showType="室內擴香" showSeries="" />
                                    </section>

                                    <section id="candle">
                                        <ProductTitle type="香氛蠟燭" pageName="travel-spray" />
                                        <ProductBox showType="香氛蠟燭" showSeries="" />
                                    </section>

                                    <section id="lip-gloss">
                                        <ProductTitle type="唇油" pageName="travel-spray" />
                                        <ProductBox showType="唇油" showSeries="" />
                                    </section>

                                    <section id="facial-mask">
                                        <ProductTitle type="面膜" pageName="travel-spray" />
                                        <ProductBox showType="面膜" showSeries="" />
                                    </section>
                                </div>

                            </div>
                        </main>
                        
                        <footer>
                            <button className="btn-top"></button>
                        </footer>
                        
                    </>
                )
            };

            ReactDOM.createRoot(document.getElementById('root')).render(<App />);

        };

    </script>




</body>

</html>